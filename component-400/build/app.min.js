!function(){function a(b,c,d){var e=a.resolve(b);if(null==e){d=d||b,c=c||"root";var f=new Error('Failed to require "'+d+'" from "'+c+'"');throw f.path=d,f.parent=c,f.require=!0,f}var g=a.modules[e];if(!g._resolving&&!g.exports){var h={};h.exports={},h.client=h.component=!0,g._resolving=!0,g.call(this,h.exports,a.relative(e),h),delete g._resolving,g.exports=h.exports}return g.exports}a.modules={},a.aliases={},a.resolve=function(b){"/"===b.charAt(0)&&(b=b.slice(1));for(var c=[b,b+".js",b+".json",b+"/index.js",b+"/index.json"],d=0;d<c.length;d++){var b=c[d];if(a.modules.hasOwnProperty(b))return b;if(a.aliases.hasOwnProperty(b))return a.aliases[b]}},a.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!=b[d]&&""!=b[d]&&c.push(b[d]);return a.concat(c).join("/")},a.register=function(b,c){a.modules[b]=c},a.alias=function(b,c){if(!a.modules.hasOwnProperty(b))throw new Error('Failed to alias "'+b+'", it does not exist');a.aliases[c]=b},a.relative=function(b){function c(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function d(c){var e=d.resolve(c);return a(e,b,c)}var e=a.normalize(b,"..");return d.resolve=function(d){var f=d.charAt(0);if("/"==f)return d.slice(1);if("."==f)return a.normalize(e,d);var g=b.split("/"),h=c(g,"deps")+1;return h||(h=0),d=g.slice(0,h+1).join("/")+"/deps/"+d},d.exists=function(b){return a.modules.hasOwnProperty(d.resolve(b))},d},function(){a.register("component-400/src/app.js",function(a,b,c){var d,e,f;f=b("./modules/mediator"),d=b("./views/app"),e=b("./models/collection"),c.exports=function(a){var c;if(!a.cb)throw"Provide your own callback function";return a.formatter&&(b("./modules/formatter").primary=a.formatter),c=new e(a.data||[]),f.on("object:click",a.portal||function(){},this),f.on("app:save",function(){return a.cb(null,_.keys(c.selected))},this),new d({el:a.target||"body",collection:c})}}),a.register("component-400/src/models/collection.js",function(a,b,c){var d,e;e=b("../modules/mediator"),d=function(){function a(a){var b,c,d,f,g,h,i,j;this.input={},this.total=0,this.summary={},this.dupes={},this.selected={},this.type=null;for(b in a){c=a[b],this.total+=1,j=c.identifiers;for(d in j)for(g=j[d],this.input[d]=null,h=0,i=g.length;i>h;h++)switch(f=g[h],null==this.type&&(this.type=c.type.toLowerCase()),f){case"DUPLICATE":this.addDupe({provided:d,id:b,object:c});break;default:this.addSummary({reason:f,provided:d,id:b,object:c})}}this.input=_.keys(this.input).length,e.on("item:toggle",function(a,b){return a?this.selected[b]=!0:delete this.selected[b]},this)}return a.prototype.dict={MATCH:"direct hit",TYPE_CONVERTED:"converted type",OTHER:"synonym"},a.prototype.addDupe=function(a){var b,c,d,e;return d=a.provided,b=a.id,c=a.object,null==(e=this.dupes)[d]&&(e[d]=[]),this.dupes[d].push({id:b,object:c})},a.prototype.addSummary=function(a){var b,c,d,e,f;return e=a.reason,d=a.provided,b=a.id,c=a.object,null==(f=this.summary)[e]&&(f[e]=[]),this.summary[e].push({provided:d,id:b,object:c}),this.selected[b]=!0},a.prototype.selectedLn=function(){return _.keys(this.selected).length},a}(),c.exports=d}),a.register("component-400/src/modules/formatter.js",function(a,b,c){var d;c.exports={primary:function(a){var b,c,e,f,g,h,i,j,k;for(j=["symbol","primaryIdentifier","secondIdentifier"],h=0,i=j.length;i>h;h++)if(c=j[h],g=a.object.summary[c])return d(g);g=[0,"NA"],k=a.object.summary;for(b in k)f=k[b],(e=f.replace(/\W/,"").length)>g[0]&&(g=[e,d(g)]);return g[1]},csv:function(a,b){var c,d,e,f;return e=a.provided,d=a.object,null==b&&(b=!0),c=[].concat(["provided","type"],_.keys(d.summary)),f=[].concat([e,d.type],_.values(d.summary)),b?[c,f]:f},flyout:function(a){var b,c,e,f,g;b=function(a){return a.replace(/\./g," ").replace(/([A-Z])/g," $1").toLowerCase()},f=a.object.summary,g=[];for(c in f)e=f[c],e&&g.push([b(c),d(e)]);return g}},d=function(a){return JSON.stringify(a).slice(1,-1)}}),a.register("component-400/src/modules/mediator.js",function(a,b,c){c.exports=_.extend({},BackboneEvents)}),a.register("component-400/src/modules/view.js",function(a,b,c){var d,e;e=0,d=function(){function a(a){var b,c,d,f,g,h,i=this;this.cid="c"+e++,this.options={};for(d in a)switch(f=a[d],d){case"model":case"collection":this[d]=f;break;case"el":this[d]=$(f);break;default:this.options[d]=f}this.el instanceof $||(this.el=$("<"+this.tag+"/>")),h=this.events,g=function(a,b){var c,d,e;return e=a.match(i.splitter).slice(1),c=e[0],d=e[1],i.el.on(c,d,function(){return i[b].apply(i,arguments)})};for(b in h)c=h[b],g(b,c);this.views=[],this.autoRender&&this.render()}return a.prototype.autoRender=!1,a.prototype.splitter=/^(\S+)\s*(.*)$/,a.prototype.tag="div",a.prototype.template=function(){return""},a.prototype.render=function(){return this.model?this.el.html(this.template(JSON.parse(JSON.stringify(this.model)))):this.el.html(this.template()),this},a.prototype.dispose=function(){var a,b,c,d;for(d=this.views,b=0,c=d.length;c>b;b++)a=d[b],a.dispose();return this.el.remove()},a}(),c.exports=d}),a.register("component-400/src/templates/duplicates/row.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){this.provided&&(c.push('\n    <td rowspan="'),c.push(d(this.rowspan)),c.push('" class="'),c.push(d(this["class"])),c.push('">'),c.push(this.provided),c.push("</td>\n")),c.push("\n<td>\n    <a>"),c.push(this.matched),c.push('</a>\n    <span class="help-flyout"></span>\n</td>\n'),this.selected?c.push('\n    <td><span class="tiny secondary button">Remove</span></td>\n'):c.push('\n    <td><span class="tiny success button">Add</span></td>\n')}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),a.register("component-400/src/templates/duplicates/table.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push('<header>\n    <span class="small secondary remove-all button">Remove all</span>\n    <span class="small success add-all button">Add all</span>\n    <h2>Which one do you want?</h2>\n    <span data-id="1" class="help"></span>\n</header>\n\n<div class="border">\n    <div class="thead">\n        <table>\n            <thead>\n                <tr>\n                    <th>Identifier you provided</th>\n                    <th>Matches</th>\n                    <th>Action</th>\n                </tr>\n            </thead>\n        </table>\n    </div>\n    <div class="wrapper">\n        <table>\n            <thead>\n                <tr>\n                    <th>Identifier you provided</th>\n                    <th>Matches</th>\n                    <th>Action</th>\n                </tr>\n            </thead>\n            <tbody></tbody>\n        </table>\n    </div>\n</div>')}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),a.register("component-400/src/templates/flyout.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var a,b,d,e,f,g,h;for(c.push("<table>\n    "),h=this.rows,d=0,f=h.length;f>d;d++){for(b=h[d],c.push("\n        <tr>\n            "),e=0,g=b.length;g>e;e++)a=b[e],c.push("\n                <td>"),c.push(a),c.push("</td>\n            ");c.push("\n        </tr>\n    ")}c.push("\n</table>")}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),a.register("component-400/src/templates/header.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push("<header>\n    "),1===this.selected?(c.push('\n        <a class="success button save">Save a list of 1 '),c.push(d(this.type)),c.push("</a>\n    ")):(c.push('\n        <a class="success button save">Save a list of '),c.push(d(this.selected)),c.push(" "),c.push(d(this.type)),c.push("s</a>\n    ")),c.push("\n\n    <table>\n        <tr>\n            <td>You entered:</td>\n            <td>"),c.push(d(this.input)),c.push(" identifier"),1!==this.input&&c.push("s"),c.push("</td>\n        </tr>\n        <tr>\n            <td>We found:</td>\n            <td>"),c.push(d(this.total)),c.push(" "),c.push(d(this.type)),1!==this.total&&c.push("s"),c.push("</td>\n        </tr>\n    </table>\n\n    <p>Why are the numbers different? See below.</p>\n</header>")}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),a.register("component-400/src/templates/nomatches.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push('<header>\n    <h2>No matches found</h2>\n    <span class="help"></span>\n</header>\n\n<ul class="inline">\n    <li>monkey</li>\n    <li>CG11091</li>\n</ul>')}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),a.register("component-400/src/templates/paginator.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var a,b,e,f;if(this.pages>1){for(c.push('\n    <ul class="pagination">\n        '),0===this.current?c.push('\n            <li class="unavailable arrow"><a>&laquo;</a></li>\n        '):c.push('\n            <li class="arrow" data-action="prev"><a>&laquo;</a></li>\n        '),c.push("\n\n        "),f=this.range,b=0,e=f.length;e>b;b++)a=f[b],c.push("\n            "),null===a?c.push('\n                <li class="unavailable"><a>&hellip;</a></li>\n            '):(c.push("\n                "),a===this.current+1?(c.push('\n                    <li data-action="switch" data-page="'),c.push(d(a-1)),c.push('" class="current"><a>'),c.push(d(a)),c.push("</a></li>\n                ")):(c.push('\n                    <li data-action="switch" data-page="'),c.push(d(a-1)),c.push('"><a>'),c.push(d(a)),c.push("</a></li>\n                ")),c.push("\n            ")),c.push("\n        ");c.push("\n\n        "),this.current+1===this.pages?c.push('\n            <li class="unavailable arrow"><a>&raquo;</a></li>\n        '):c.push('\n            <li class="arrow" data-action="next"><a>&raquo;</a></li>\n        '),c.push("\n    </ul>\n")}}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),a.register("component-400/src/templates/summary/list.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push('<ul class="inline">\n    <li>fkh</li>\n    <li>pan</li>\n</ul>')}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),a.register("component-400/src/templates/summary/row.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push("<td>"),c.push(this.provided),c.push("</td>\n<td>\n    <a>"),c.push(this.matched),c.push('</a>\n    <span class="help-flyout"></span>\n</td>')}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),a.register("component-400/src/templates/summary/tab.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push("<a>"),c.push(d(this.name)),c.push('s <span data-id="3" class="help"></span></a>')}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),a.register("component-400/src/templates/summary/table.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push('<table>\n    <thead>\n        <tr>\n            <th>Identifier you provided</th>\n            <th>Match</th>\n        </tr>\n    </thead>\n    <tbody></tbody>\n</table>\n\n<div class="paginator"></div>')}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),a.register("component-400/src/templates/summary/tabs.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push('<header>\n    <span class="small download button">Download summary</span>\n    <h2>Summary</h2>\n    <span data-id="2" class="help"></span>\n</header>\n<dl class="tabs contained"></dl>\n<ul class="tabs-content contained"></ul>')}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),a.register("component-400/src/templates/tooltip.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push(this.text),c.push('<span class="nub" style="top: auto; bottom: -10px; left: auto; right: auto;"></span>')}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),a.register("component-400/src/views/app.js",function(a,b,c){var d,e,f,g,h,i,j,k,l,m={}.hasOwnProperty,n=function(a,b){function c(){this.constructor=a}for(var d in b)m.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};k=b("../modules/mediator"),j=b("../modules/view"),f=b("./header"),e=b("./duplicates"),g=b("./nomatches"),h=b("./summary"),f=b("./header"),i=b("./tooltip"),d=function(a){function b(){return l=b.__super__.constructor.apply(this,arguments)}return n(b,a),b.prototype.autoRender=!0,b.prototype.events={"mouseover .help":"toggleTooltip","mouseout  .help":"toggleTooltip"},b.prototype.render=function(){var a,b,c,d,g;return this.el.append(new f({collection:this.collection}).render().el),g=this.collection,b=g.dupes,c=g.summary,a=g.dict,b&&this.el.append((d=new e({collection:b})).render().el),null!=d&&d.adjust(),c&&this.el.append(new h({collection:c,dict:a}).render().el),this},b.prototype.toggleTooltip=function(a){var b,c,d,e,f,g,h;switch(a.type){case"mouseover":return b=(c=$(a.target)).data("id"),this.views.push(d=new i({model:{id:b}})),c.append(d.render().el);case"mouseout":for(g=this.views,h=[],e=0,f=g.length;f>e;e++)d=g[e],h.push(d.dispose());return h}},b}(j),c.exports=d}),a.register("component-400/src/views/duplicates.js",function(a,b,c){var d,e,f,g,h,i,j,k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};h=b("../modules/formatter"),i=b("../modules/mediator"),g=b("../modules/view"),f=b("../views/flyout"),e=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.el.addClass("duplicates section")}return l(c,a),c.prototype.template=b("../templates/duplicates/table"),c.prototype.events={"click .button.add-all":"addAll","click .button.remove-all":"removeAll"},c.prototype.render=function(){var a,b,c,e,f,g,h,i;this.el.html(this.template()),g=this.el.find("tbody"),a=0,i=this.collection;for(f in i){e=i[f];for(b in e)c=e[b],"0"===b?(this.views.push(h=new d({model:c,rowspan:e.length,provided:f,"class":["even","odd"][a%2]})),a++):this.views.push(h=new d({model:c})),g.append(h.render().el)}return this},c.prototype.adjust=function(){var a,b;return a=this.el.find(".thead thead"),b=this.el.find(".wrapper thead"),b.parent().css({"margin-top":-b.height()+"px"}),b.find("th").each(function(b,c){return a.find("th:eq("+b+")").width($(c).width())}),this},c.prototype.addAll=function(a){return $(a.target).hasClass("disabled")?void 0:this.doAll("add")},c.prototype.removeAll=function(a){return $(a.target).hasClass("disabled")?void 0:this.doAll("remove")},c.prototype.doAll=function(a){var b,c,d,e,f,g=this;return(b=this.el.find("header .button")).addClass("disabled"),e=c=this.views.length,f=queue(50),d=function(h){return c--?(g.views[e-c-1][a](),f.defer(d)):b.removeClass("disabled"),setImmediate(h)},f.defer(d)},c}(g),d=function(a){function c(){return j=c.__super__.constructor.apply(this,arguments)}return l(c,a),c.prototype.template=b("../templates/duplicates/row"),c.prototype.tag="tr",c.prototype.events={"click .button":"toggle","mouseover .help-flyout":"toggleFlyout","mouseout .help-flyout":"toggleFlyout","click a":"portal"},c.prototype.render=function(){var a;return a=h.primary(this.model),this.el.html(this.template(_.extend(this.options,{matched:a}))),this},c.prototype.toggle=function(){var a;return null==(a=this.options).selected&&(a.selected=!1),this.options.selected=!this.options.selected,i.trigger("item:toggle",this.options.selected,this.model.id),this.render()},c.prototype.add=function(){return i.trigger("item:toggle",this.options.selected=!0,this.model.id),this.render()},c.prototype.remove=function(){return i.trigger("item:toggle",this.options.selected=!1,this.model.id),this.render()},c.prototype.toggleFlyout=function(a){var b,c,d,e,g;switch(a.type){case"mouseover":return this.views.push(b=new f({model:this.model})),$(a.target).append(b.render().el);case"mouseout":for(e=this.views,g=[],c=0,d=e.length;d>c;c++)b=e[c],g.push(b.dispose());return g}},c.prototype.portal=function(a){return i.trigger("object:click",this.model,a.target)},c}(g),c.exports=e}),a.register("component-400/src/views/flyout.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=b("../modules/formatter"),e=b("../modules/view"),d=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.el.addClass("flyout")}return h(c,a),c.prototype.template=b("../templates/flyout"),c.prototype.render=function(){return this.el.html(this.template({rows:f.flyout(this.model)})),this},c}(e),c.exports=d}),a.register("component-400/src/views/header.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=b("../modules/mediator"),e=b("../modules/view"),d=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.el.addClass("header section"),f.on("item:toggle",this.render,this)}return h(c,a),c.prototype.template=b("../templates/header"),c.prototype.events={"click .button.save":"save"},c.prototype.render=function(){var a,b,c,d;return d=this.collection,a=d.input,b=d.total,c=d.type,this.el.html(this.template({selected:this.collection.selectedLn(),input:a,total:b,type:c})),this},c.prototype.save=function(){return f.trigger("app:save")},c}(e),c.exports=d}),a.register("component-400/src/views/nomatches.js",function(a,b,c){var d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("../modules/view"),d=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.el.addClass("nomatches section")}return g(c,a),c.prototype.template=b("../templates/nomatches"),c.prototype.render=function(){return this.el.html(this.template({items:this.collection})),this},c}(e),c.exports=d}),a.register("component-400/src/views/paginator.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=b("../modules/mediator"),e=b("../modules/view"),d=function(a){function c(){var a,b,d,e;c.__super__.constructor.apply(this,arguments),null==(a=this.options).total&&(a.total=0),null==(b=this.options).perPage&&(b.perPage=5),null==(d=this.options).current&&(d.current=0),null==(e=this.options).truncate&&(e.truncate=10),this.options.pages=Math.ceil(this.options.total/this.options.perPage)}return h(c,a),c.prototype.template=b("../templates/paginator"),c.prototype.events={"click ul.pagination a":"onclick"},c.prototype.prev=function(){return this.select(Math.max(0,this.options.current-1))},c.prototype.next=function(){return this.select(Math.min(this.options.pages-1,this.options.current+1))},c.prototype.select=function(a){return this.options.current=a},c.prototype.render=function(){var a,b,c,d,e,g,h,i;return this.options.truncate<(d=this.options.pages)?(c=Math.floor(this.options.truncate/2),this.options.range=[].concat(function(){g=[];for(var a=1,b=c+1;b>=1?b>a:a>b;b>=1?a++:a--)g.push(a);return g}.apply(this),[null],function(){h=[];for(var a=e=d-c+1,b=d+1;b>=e?b>a:a>b;b>=e?a++:a--)h.push(a);return h}.apply(this))):this.options.range=function(){i=[];for(var a=1,b=d+1;b>=1?b>a:a>b;b>=1?a++:a--)i.push(a);return i}.apply(this),this.el.html(this.template(this.options)),b=Math.min((a=this.options.current*this.options.perPage)+this.options.perPage,this.options.total),f.trigger("page:change",this.cid,a,b),this},c.prototype.onclick=function(a){var b;switch((b=$(a.target).closest("li")).data("action")){case"prev":this.prev();break;case"next":this.next();break;case"switch":this.select(parseInt(b.data("page")))}return this.render()},c}(e),c.exports=d}),a.register("component-400/src/views/summary.js",function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q={}.hasOwnProperty,r=function(a,b){function c(){this.constructor=a}for(var d in b)q.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};n=b("../modules/mediator"),m=b("../modules/formatter"),l=b("../modules/view"),f=b("./paginator"),d=b("./flyout"),g=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.el.addClass("summary section")}return r(c,a),c.prototype.template=b("../templates/summary/tabs"),c.prototype.events={"click .button.download":"download"},c.prototype.render=function(){var a,b,c,d,e,f,g;this.el.html(this.template()),e=this.el.find(".tabs"),b=this.el.find(".tabs-content"),c=!0,g=this.collection;for(d in g)a=g[d],this.views.push(f=new i({model:{name:this.options.dict[d]},reason:d})),e.append(f.render().el),this.views.push(f=new k({collection:a,reason:d})),b.append(f.render().el),c&&n.trigger("tab:switch",d)&&(c=!1);return this},c.prototype.download=function(){var a,b,c,d,e,f,g,h,i,j,k,l;b=null,h=[],k=this.collection;for(f in k)for(e=k[f],i=0,j=e.length;j>i;i++)d=e[i],b?h.push(m.csv(d,!1)):(l=m.csv(d,!0),b=l[0],g=l[1],h.push.row);return c=csv(_.map(h,function(a){return _.zipObject(b,a)})),a=new Blob([c],{type:"text/csv;charset=utf-8"}),saveAs(a,"summary.csv")},c}(l),i=function(a){function c(){c.__super__.constructor.apply(this,arguments),n.on("tab:switch",function(a){return this.el.toggleClass("active",this.options.reason===a)},this)}return r(c,a),c.prototype.template=b("../templates/summary/tab"),c.prototype.tag="dd",c.prototype.events={"click *":"onclick"},c.prototype.onclick=function(){return n.trigger("tab:switch",this.options.reason)},c}(l),h=function(a){function b(){b.__super__.constructor.apply(this,arguments),n.on("tab:switch",function(a){return this.el.toggleClass("active",this.options.reason===a)},this)}return r(b,a),b.prototype.tag="li",b}(l),k=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.pagin=new f({total:this.collection.length}),n.on("page:change",function(a,b,c){return a===this.pagin.cid?this.renderPage.call(this,b,c):void 0},this)}return r(c,a),c.prototype.template=b("../templates/summary/table"),c.prototype.render=function(){return this.el.html(this.template()),this.el.find(".paginator").html(this.pagin.render().el),this},c.prototype.renderPage=function(a,b){var c,d,e,f,g,h,i,k,l,m;for(d=this.el.find("tbody"),k=this.views,f=0,h=k.length;h>f;f++)e=k[f],e.dispose();for(l=this.collection.slice(a,b),m=[],g=0,i=l.length;i>g;g++)c=l[g],this.views.push(e=new j({model:c})),m.push(d.append(e.render().el));return m},c}(h),j=function(a){function c(){return o=c.__super__.constructor.apply(this,arguments)}return r(c,a),c.prototype.template=b("../templates/summary/row"),c.prototype.tag="tr",c.prototype.events={"mouseover .help-flyout":"toggleFlyout","mouseout .help-flyout":"toggleFlyout","click a":"portal"},c.prototype.render=function(){var a;return a=m.primary(this.model),this.el.html(this.template({provided:this.model.provided,matched:a})),this},c.prototype.toggleFlyout=function(a){var b,c,e,f,g;switch(a.type){case"mouseover":return this.views.push(b=new d({model:this.model})),$(a.target).append(b.render().el);case"mouseout":for(f=this.views,g=[],c=0,e=f.length;e>c;c++)b=f[c],g.push(b.dispose());return g}},c.prototype.portal=function(a){return n.trigger("object:click",this.model,a.target)},c}(l),e=function(a){function c(){return p=c.__super__.constructor.apply(this,arguments)}return r(c,a),c.prototype.template=b("../templates/summary/list"),c}(h),c.exports=g}),a.register("component-400/src/views/tooltip.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("../modules/view"),d=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.model.text=f[this.model.id],this.el.addClass("tooltip tip-top noradius")}return h(c,a),c.prototype.tag="span",c.prototype.template=b("../templates/tooltip"),c}(e),f={1:"Choose, do it",2:"Summarizing you know",3:"Tabitha Tabby"},c.exports=d})}();var b=a("component-400/src/app.js"),c=this;"undefined"!=typeof define&&define.amd?define("component-400",[],function(){return b}):"undefined"!=typeof module&&module.exports?module.exports=b:c["component-400"]=b,a.alias("component-400/src/app.js","component-400/index.js"),c.require="undefined"!=typeof c.require?c.require:a}();