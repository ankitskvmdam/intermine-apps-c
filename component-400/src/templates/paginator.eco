<% if @pages > 1: %>
    <ul class="pagination">
        <li class="unavailable"><a>Page <%= @current + 1 %> of <%= @pages %></a></li>
        <% if @current is 0: %>
            <li class="unavailable arrow"><a>&laquo;</a></li>
            <li class="unavailable arrow"><a>&lsaquo;</a></li>
        <% else: %>
            <li class="arrow" data-action="first" title="First"><a>&laquo;</a></li>
            <li class="arrow" data-action="prev" title="Previous"><a>&lsaquo;</a></li>
        <% end %>

        <% for page in @range: %>
            <% if page is null: %>
                <li class="unavailable"><a>&hellip;</a></li>
            <% else: %>
                <% if page is @current + 1: %>
                    <li data-action="switch" data-page="<%= page - 1 %>" class="current"><a><%= page %></a></li>
                <% else: %>
                    <li data-action="switch" data-page="<%= page - 1 %>"><a><%= page %></a></li>
                <% end %>
            <% end %>
        <% end %>

        <% if @current + 1 is @pages: %>
            <li class="unavailable arrow"><a>&rsaquo;</a></li>
            <li class="unavailable arrow"><a>&raquo;</a></li>
        <% else: %>
            <li class="arrow" data-action="next" title="Next"><a>&rsaquo;</a></li>
            <li class="arrow" data-action="last" title="Last"><a>&raquo;</a></li>
        <% end %>
    </ul>
<% end %>