!function(a){var b=function(a,c,d){var e=b.resolve(a);if(!e){d=d||a,c=c||"root";var f=new Error('Failed to require "'+d+'" from "'+c+'"');throw f.path=d,f.parent=c,f.require=!0,f}var g=b.modules[e];if(!g._resolving&&!g.exports){var h={};h.exports={},h.client=h.component=!0,g._resolving=!0,g.call(this,h.exports,b.relative(e),h),delete g._resolving,g.exports=h.exports}return g.exports};b.modules={},b.aliases={},b.resolve=function(a){"/"===a.charAt(0)&&(a=a.slice(1));for(var c=[a,a+".js",a+".json",a+"/index.js",a+"/index.json"],d=0;d<c.length;d++){if(a=c[d],b.modules.hasOwnProperty(a))return a;if(b.aliases.hasOwnProperty(a))return b.aliases[a]}},b.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!==b[d]&&""!==b[d]&&c.push(b[d]);return a.concat(c).join("/")},b.register=function(a,c){b.modules[a]=c},b.alias=function(a,c){if(!b.modules.hasOwnProperty(a))throw new Error('Failed to alias "'+a+'", it does not exist');b.aliases[c]=a},b.relative=function(a){function c(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}var d=b.normalize(a,".."),e=function(c){var d=e.resolve(c);return b(d,a,c)};return e.resolve=function(e){var f=e.charAt(0);if("/"==f)return e.slice(1);if("."==f)return b.normalize(d,e);var g=a.split("/"),h=c(g,"deps")+1;return h||(h=0),e=g.slice(0,h+1).join("/")+"/deps/"+e},e.exists=function(a){return b.modules.hasOwnProperty(e.resolve(a))},e},a.require="undefined"!=typeof a.require?a.require:b}(this),function(a){!function(){a.require.register("ps/src/app.js",function(a,b,c){var d,e,f,g,h;h=b("./modules/render"),g=b("./modules/query"),e=b("./modules/imjs"),f=b("./templates/layout"),d=["search","table"],c.exports=function(a){var c,i,j,k;for(j=0,k=d.length;k>j;j++)c=d[j],b("./components/"+c);return e.attr({client:new intermine.Service({root:a.mine})}),$(a.el).html(h(f)),(i=a.symbol)?g(i):void 0}}),a.require.register("ps/src/components/search.js",function(a,b,c){var d;d=b("../modules/query"),c.exports=can.Component.extend({tag:"app-search",template:b("../templates/search"),scope:function(){return{query:{value:d}}}})}),a.require.register("ps/src/components/table.js",function(a,b,c){var d;d=b("../modules/pubs"),c.exports=can.Component.extend({tag:"app-table",template:b("../templates/table"),scope:function(){return{pubs:d}}})}),a.require.register("ps/src/modules/imjs.js",function(a,b,c){var d;d={select:["Gene.publications.title","Gene.publications.year","Gene.publications.journal","Gene.publications.pubMedId","Gene.publications.authors.name"],orderBy:[{"Gene.publications.firstAuthor":"ASC"}],joins:["Gene.publications.authors"]},c.exports=new can.Map({client:null,search:function(a,b){return this.client?this.client.query(_.extend({},d,{where:[{path:"Gene.symbol",op:"CONTAINS",code:"A",value:a}]}),function(a,c){return a?b(a):c.tableRows(function(a,c){return a?b(a):console.log(c)})}):b("Client is not setup")}})}),a.require.register("ps/src/modules/pubs.js",function(a,b,c){c.exports=new can.List([])}),a.require.register("ps/src/modules/query.js",function(a,b,c){var d,e,f;e=b("./pubs"),d=b("./imjs"),f=can.compute(""),f.bind("change",function(){return d.search("brca",function(a){})}),c.exports=f}),a.require.register("ps/src/modules/render.js",function(a,b,c){c.exports=function(a,b){return null==b&&(b={}),can.view.mustache(a)(b)}}),a.require.register("ps/src/templates/layout.js",function(a,b,c){c.exports=['<div class="row collapse">','    <div class="small-2 columns">','        <span class="prefix">Search:</span>',"    </div>",'    <div class="small-10 columns">',"        <app-search></app-search>","    </div>","</div>","",'<div class="row collapse">','    <div class="small-12 columns">',"        <app-table></app-table>","    </div>","</div>"].join("\n")}),a.require.register("ps/src/templates/search.js",function(a,b,c){c.exports=['<input type="text" placeholder="Brca" value="{{ query.value }}" autofocus>'].join("\n")}),a.require.register("ps/src/templates/table.js",function(a,b,c){c.exports=["{{ #if pubs.length }}","<table>","    <thead>","        <tr>","            <th>Title</th>","            <th>Author(s)</th>","            <th>Journal</th>","            <th>Year</th>","        </tr>","    </thead>","    <tbody>","    {{ #pubs }}","        <tr>","            <td>{{ title }}</td>","            <td>","            {{ #authors }}",'                <span class="author">{{ . }}</span>',"            {{ /authors }}","            </td>","            <td>{{ journal }}</td>","            <td>{{ year }}</td>","        </tr>","    {{ /pubs }}","    </tbody>","</table>","{{ /if }}"].join("\n")})}();var b=a.require("ps/src/app.js");"undefined"!=typeof define&&define.amd?define("ps",[],function(){return b}):"undefined"!=typeof module&&module.exports?module.exports=b:a.ps=b,a.require.alias("ps/src/app.js","ps/index.js")}(this);